## Redis

### 概念

redis是一个内存中的数据存储系统，可以用作数据库、缓存和消息中间件。

### 数据结构

#### 1. String类型

最简单的key-value类型，value可以是string，也可以是数字。

#### 2. hash类型

key对应的value是一个HashMap，并且有相应HashMap接口。

#### 3. list类型

key对应的是一个双向链表，可以反向查找和操作。

#### 4. set类型

key对应的是一个string类型的无序数组，成员唯一。

#### 5. sorted set类型

与set类型类似，每个元素会关联一个double的分数，会根据分数进行从小到大排序

#### 6. Pub/Sub类型

一种消息通信模式：发送者发送消息，订阅者接收消息

#### 7. transaction事务

* 单独的隔离操作：所有命令会被序列化，按顺序执行，不会被打断
* 原子操作：一个事务全部执行，或全都不执行

操作
* multi：标记一个事务块的开始。
* exec：执行所有事务块内的命令。
* discard：取消事务，放弃执行事务块内的所有命令。
* watch key [key ...]：监视一个(或多个) key ，如果在事务执行之前这个(或这些) key 被其他命令所改动，那么事务将被打断。
* unwatch：取消 WATCH 命令对所有 key 的监视。
